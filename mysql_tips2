# 背景
	之前在mac上安装了mysql.现在尝试在linux上安装,并且是在没有su,sudo权限下进行安装的
	出现了很多问题,值得记录一下

1.首先是安装文件的选择
	在mac上安装选用的是二进制编译好的文件,好处就是省去了变异的过程的很多问题,但坏处就是很多安装
	选项不能自己进行设置.因为没有su,sudo权限,因此就只能在自己的目录下进行操作,安装也只能安装在自己的目录下,
	为了能够自己设置安装的路径和其他的一些参数,我们要选择源码安装的方式.

	地址: http://dev.mysql.com/downloads/mysql/
	还是那个mysql的官网地址,在下载时候,选择source code,不要说找不到这个在哪里.

2.一些路径的定义
	为了和root用户的路径保持一致,我们对路径做如下安排:当然可以根据自己的需要来安排路径
	安装路径为:
	~/usr/local/mysql

3.一些依赖的工具
	安装过程中会用到cmake,在执行编译指令时候,如果cmake出现错误,版本错误等等,根据需要做些调试
	比如版本错误,就去下载符合要求的版本
	其他错误,根据给出的提示做修改,一半错误下边都会给出一个建议修改方式
	# cmake 的编译安装
	# 先下载解压
	$ cd cmake-x.x.xx.x
	$ ./configure --prefix=/data/zjz/bin/cmake
	$ make && make install
	# 在当前用户文件夹下的.bashrc 或者 .bash_profile 加入
	# export PATH=~/bin/cmake:$PATH
	$ . ~/.bashrc  或者 . ~/.bash_profile

4.mysql 的安装
	首先将下载的二进制文件解压
	$ cd mysql-x.x.xx
	$ cmake -DCMAKE_INSTALL_PREFIX=/data/zhaojingzhen/usr/local/mysql -DMYSQL_TCP_PORT=33060 -DDOWNLOAD_BOOST=1 -DWITH_BOOST=/data/zhaojingzhen/usr/local/boost
	这里可能会出现缺少boost相关的error, 就添加下边的参数
	-DDOWNLOAD_BOOST=1 -DWITH_BOOST=/data/zhaojingzhen/usr/local/boost
	如果下载失败,就自己去下载,然后放到后边指定的目录就可以了
	$ make && make install
	
	make && make install之后,将MySQL的bin和scripts目录加到环境变量,添加到本用户目录文件夹下的~/.bashrc 或者  ~/.bash_profile
	$ . ~/.bashrc 或者 . ~/.bash_profile
	
	现在mysql下创建一个tmp目录
	$ mkdir /data/zjz/usr/local/mysql/tmp
	用mysql_install_db安装数据库
	$ cd mysql/bin/
	$ ./mysql_install_db --basedir=/data/zhaojingzhen/usr/local/mysql --datadir=/data/zhaojingzhen/usr/local/mysql/data --tmpdir=/data/zhaojingzhen/usr/local/mysql/tmp --user=zhaojingzhen
	可能会出现错误,根据错误进行修改,百度[忘了什么错误了]
	在mysql文件夹下创建etc/my.cnf
	$ mkdir etc
	$ cd etc/
	$ touch my.cnf
	在my.cnf里边添加如下内容
	[client]
	port=33060
	socket=/db/home/shenwei/local/app/mysql/my.sock
	
	[mysqld]
	port=33060
	socket=/db/home/shenwei/local/app/mysql/my.sock
	datadir=/db/home/shenwei/local/app/mysql/data
	
	[mysql.server]
	user=shenwei
	basedir=/db/home/shenwei/local/app/mysql
	
	sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES

	[注意将其中的路径换成自己的]
	在bin目录下创建my_mysql_start
	$ touch my_mysql_start
	$ chmod a+x my_mysql_start
	内容如下
	#!/bin/sh
	# /db/home/shenwei/local/app/mysql/bin/mysqld_safe --defaults-file=/db/home/shenwei/local/app/mysql/etc/my.cnf --socket=/db/home/shenwei/local/app/mysql/my.sock --pid-file=/db/home/shenwei/local/app/mysql/my.pid &
	[注意将路径换成自己的]
	设置root密码
	$ ./my_mysql_start
	$ cd mysql/bin
	$ ./mysql -P 33060 -u root -p
	如果需要密码就是在安装mysql时候,最后给出的那个密码,挺难记的那个
